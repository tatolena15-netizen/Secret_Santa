<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Secret Santa</title>
<link href="https://fonts.googleapis.com/css2?family=Festive&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Festive', cursive, sans-serif;
    text-align: center;
    padding: 50px;
    background-color: #e0f7ff;
    overflow-x: hidden;
}
h1 { color: #d10000; text-shadow: 2px 2px #ffcccc; font-size: 60px; }
p { color: #b30000; font-size: 20px; }
input, button, textarea {
    font-size: 18px;
    padding: 10px;
    margin: 5px;
    border-radius: 10px;
    border: 2px solid #d10000;
}
button.saveButton {
    background-color: #ff0000;
    color: white;
    cursor: pointer;
    transition: 0.3s;
}
button.saveButton:hover {
    background-color: #cc0000;
    transform: scale(1.05);
}
button#checkBtn {
    background-color: #ff6666;
    cursor: pointer;
    transition: 0.3s;
}
button#checkBtn:hover { background-color: #ff4d4d; transform: scale(1.05); }
textarea { width: 80%; height: 150px; box-shadow: 2px 2px 10px #ffcccc; }

.snowflake {
    position: absolute;
    top: -50px;
    font-size: 24px;
    color: white;
    user-select: none;
    pointer-events: none;
    animation-name: fall;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
}
@keyframes fall { 
    0% { transform: translateY(0) rotate(0deg);}
    100% { transform: translateY(100vh) rotate(360deg);}
}

#wishlistSection { display:none; margin-top:30px; }
</style>
</head>
<body>

<h1>üéÑ Secret Santa üéÅ</h1>
<p>–í–≤–µ–¥–∏ —Å–≤–æ—î —ñ–º‚Äô—è:</p>
<input id="nameInput" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –û–ª–µ–Ω–∞">
<br><br>
<button id="checkBtn" onclick="checkName()">–î—ñ–∑–Ω–∞—Ç–∏—Å—å</button>
<p id="error" style="color:red;"></p>

<div id="wishlistSection">
    <h2>–¢–∏ –¥–∞—Ä—É—î—à: <span id="receiverName"></span></h2>
    <h3>–ô–æ–≥–æ/—ó—ó –≤—ñ—à–ª—ñ—Å—Ç:</h3>
    <ul id="receiverWishlist"></ul>
    <h3>–î–æ–¥–∞–π —Å–≤–æ—ó –ø–æ–±–∞–∂–∞–Ω–Ω—è –¥–æ —Å–≤–æ–≥–æ –≤—ñ—à–ª—ñ—Å—Ç–∞:</h3>
    <textarea id="myWishlist" placeholder="–ú–æ—ó –ø–æ–±–∞–∂–∞–Ω–Ω—è..."></textarea>
    <br>
    <button class="saveButton" onclick="saveMyWishlist()">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
</div>

<script>
// –î–∞–Ω—ñ –ø–∞—Ä–∏ + –≤—ñ—à–ª—ñ—Å—Ç–∏
const pairs = {
    "–û–ª–µ–Ω–∞": "–ê–ª—ñ–Ω–∞",
    "–°–æ—Ñ—ñ—è": "–ê–Ω—è",
    "–ê–Ω—è": "–í–ª–∞–¥–∞",
    "–°–∞—à–∞": "–Æ–ª—è",
    "–Æ–ª—è": "–°–æ—Ñ—ñ—è",
    "–í–ª–∞–¥–∞": "–û–ª–µ–Ω–∞",
    "–ê–ª—ñ–Ω–∞": "–°–∞—à–∞"
};
const wishlists = {
    "–û–ª–µ–Ω–∞": ["–ö–Ω–∏–≥–∞", "–ß–∞–π", "–®–∞—Ä—Ñ"],
    "–°–æ—Ñ—ñ—è": ["–ù–∞–±—ñ—Ä –æ–ª—ñ–≤—Ü—ñ–≤", "–©–æ–¥–µ–Ω–Ω–∏–∫"],
    "–ê–Ω—è": ["–°–æ–ª–æ–¥–æ—â—ñ", "–ü–ª–µ–¥"],
    "–°–∞—à–∞": ["–§–ª–µ—à–∫–∞", "–ù–æ—Ç–∞—Ç–Ω–∏–∫"],
    "–Æ–ª—è": ["–†—É—à–Ω–∏–∫", "–°–≤—ñ—á–∫–∏"],
    "–í–ª–∞–¥–∞": ["–ö–∞–≤–∞", "–ë–ª–æ–∫–Ω–æ—Ç"],
    "–ê–ª—ñ–Ω–∞": ["–ù–∞–∫–ª–µ–π–∫–∏", "–ß–∞—à–∫–∞"]
};

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–Ω—ñ–∂–∏–Ω–æ–∫
function createSnowflake() {
    const snowflake = document.createElement('div');
    snowflake.className = 'snowflake';
    snowflake.style.left = Math.random() * window.innerWidth + 'px';
    snowflake.style.fontSize = Math.random() * 30 + 20 + 'px';
    snowflake.style.animationDuration = (Math.random() * 5 + 5) + 's';
    snowflake.innerText = '‚ùÑ';
    document.body.appendChild(snowflake);
}

// –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞
function checkName() {
    const input = document.getElementById("nameInput").value.trim().toLowerCase();
    let found = false;
    for (const key in pairs) {
        if (key.toLowerCase() === input) {
            const receiver = pairs[key];

            // –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ —Å—Ç–≤–æ—Ä—é—î–º–æ —â–µ 30 —Å–Ω—ñ–∂–∏–Ω–æ–∫
            for(let i=0; i<30; i++) createSnowflake();

            document.getElementById('receiverName').innerText = receiver;
            const ul = document.getElementById('receiverWishlist');
            ul.innerHTML = '';
            for(const item of wishlists[receiver] || []) {
                const li = document.createElement('li');
                li.textContent = item;
                ul.appendChild(li);
            }
            document.getElementById('wishlistSection').style.display = 'block';
            loadMyWishlist();

            found = true;
            break;
        }
    }
    if (!found) {
        document.getElementById("error").innerText = "–¢–∞–∫–æ–≥–æ —ñ–º–µ–Ω—ñ –Ω–µ–º–∞—î —É —Å–ø–∏—Å–∫—É!";
    }
}

// –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–±–∞–∂–∞–Ω—å
function saveMyWishlist() {
    const myName = document.getElementById("nameInput").value.trim();
    const myText = document.getElementById("myWishlist").value.trim();
    if(myName && myText) {
        localStorage.setItem("wishlist_" + myName.toLowerCase(), myText);
        alert("–ü–æ–±–∞–∂–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ!");
    } else {
        alert("–í–≤–µ–¥—ñ—Ç—å —Å–≤–æ—î —ñ–º'—è —Ç–∞ –ø–æ–±–∞–∂–∞–Ω–Ω—è!");
    }
}

function loadMyWishlist() {
    const myName = document.getElementById("nameInput").value.trim();
    if(!myName) return;
    const saved = localStorage.getItem("wishlist_" + myName.toLowerCase());
    if(saved) {
        document.getElementById("myWishlist").value = saved;
    }
}
</script>

</body>
</html>
